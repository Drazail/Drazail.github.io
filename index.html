<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link
      type="text/css"
      rel="stylesheet"
      href="styles/prettify-tomorrow.css"
    />
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css" />
  </head>

  <body>
    <div id="main">
      <h1 class="page-title">Home</h1>

      <h3>
        <h1 id="reactnativegetmusicfiles">react-native-get-music-files</h1>

        <p>
          React Native package to get music files from local and sd for iOS and
          Android
        </p>

        <h1 id="whatdoesthispackage">What does this package?</h1>

        <p>
          This package get all the sound files in your local and sd card for
          Androi and iOS, and retrive metadata from each file, also generate an
          blurred image from cover file.
        </p>

        <ul>
          <li>SongID</li>

          <li>Title</li>

          <li>Author</li>

          <li>Album</li>

          <li>Duration</li>

          <li>Path</li>

          <li>Cover</li>

          <li>Duration</li>

          <li>Genre</li>
        </ul>

        <h2 id="gettingstarted">Getting started</h2>

        <p><code>$ npm install react-native-get-music-files --save</code></p>

        <h3 id="mostlyautomaticinstallation">Mostly automatic installation</h3>

        <p><code>$ react-native link react-native-get-music-files</code></p>

        <h3 id="manualinstallation">Manual installation</h3>

        <h4 id="ios">iOS</h4>

        <ol>
          <li>
            In XCode, in the project navigator, right click
            <code>Libraries</code> ➜
            <code>Add Files to [your project's name]</code>
          </li>

          <li>
            Go to <code>node_modules</code> ➜
            <code>react-native-reat-native-get-music-files</code> and add
            <code>RNReatNativeGetMusicFiles.xcodeproj</code>
          </li>

          <li>
            In XCode, in the project navigator, select your project. Add
            <code>libRNReatNativeGetMusicFiles.a</code> to your project's
            <code>Build Phases</code> ➜ <code>Link Binary With Libraries</code>
          </li>

          <li>Run your project (<code>Cmd+R</code>)&lt;</li>
        </ol>

        <h4 id="android">Android</h4>

        <ol>
          <li>
            Open up
            <code>android/app/src/main/java/[...]/MainActivity.java</code>
          </li>
        </ol>

        <ul>
          <li>
            Add
            <code
              >import com.reactlibrary.RNReatNativeGetMusicFilesPackage;
               import com.drazail.rnandroidstore.RNAndroidStorePackage;
              </code
            >
            to the imports at the top of the file
          </li>

          <li>
            Add <code>new RNReatNativeGetMusicFilesPackage(), new RNAndroidStorePackage()</code> to the list
            returned by the <code>getPackages()</code> method
          </li>
        </ul>

        <ol>
          <li>
            Append the following lines to <code>android/settings.gradle</code>:
            <code>
              include ':react-native-get-music-files'
              project(':react-native-get-music-files').projectDir = new
              File(rootProject.projectDir,
              '../node_modules/react-native-get-music-files/android')
            </code>
          </li>

          <li>
            Insert the following lines inside the dependencies block in
            <code>android/app/build.gradle</code>:
            <code>
              compile project(':react-native-get-music-files')
            </code>
          </li>
        </ol>

        <h2 id="usage">Usage</h2>

        <pre><code>
        import MusicFiles from 'react-native-get-music-files';
        
        MusicFiles.getAll({
            blured : true, // works only when 'cover' is set to true
            artist : true,
            duration : true, //default : true
            cover : false, //default : true,
            genre : true,
            title : true,
            cover : true,
            minimumSongDuration : 10000 // get songs bigger than 10000 miliseconds duration,
            fields : ['title','albumTitle','genre','lyrics','artwork','duration'] // for iOs Version
        }).then(tracks =&gt; {
            // do your stuff...
        }).catch(error =&gt; {
            // catch the error
        })
        
        //In order to get blocks of songs, for fix performance issues at least in Android, use next
        
        componentWillMount() {
            DeviceEventEmitter.addListener(
                'onBatchReceived',
                (params) =&gt; {
                    this.setState({songs : [
                        ...this.state.songs,
                        ...params.batch
                    ]});
                }
            )
        }
        
        componentDidMount(){
                MusicFiles.getAll({
                    id : true,
                    blured : false,
                    artist : true,
                    duration : true, //default : true
                    cover : true, //default : true,
                    title : true,
                    cover : true,
                    batchNumber : 5, //get 5 songs per batch
                    minimumSongDuration : 10000, //in miliseconds,
                    fields : ['title','artwork','duration','artist','genre','lyrics','albumTitle']
                });
        }
        </code></pre>

        <p>
          MusicFiles returns an array of objects where you can loop, something
          like this.
        </p>

        <pre><code>[
          {
            id : 1,
            title : "La danza del fuego",
            author : "Mago de Oz",
            album : "Finisterra",
            genre : "Folk",
            duration : 132132312321, // miliseconds
            cover : "file:///sdcard/0/123.png",
            blur : "file:///sdcard/0/123-blur.png", //Will come null if createBLur is set to false
            path : "/sdcard/0/la-danza-del-fuego.mp3"
          }
        ]
        </code></pre>

        <h2 id="RNAndroidAudioStore">RNAndroidAudioStore</h2>
        <p>
                This class only works on Android 5+, for documentation please refer to 
                <a href="RNAndroidAudioStore.html">RNAndroidAudioStore</a>
                and
                <a href="globals.html">Globals</a>
                You can find the example App
                <a href="https://github.com/Drazail/react-native-get-music-files/tree/development/example">here</a>
        </p>

        <h1 id="notes">Notes</h1>

        <ul>
          <li>
            [] For android 5 and above, you may request permissions before to
            use this plugin check
            <code>https://github.com/yonahforst/react-native-permissions</code>
          </li>
        </ul>

       


        <h1 id="versionchanges">Version Changes</h1>

        <h1 id="21">2.1</h1>

        <ul>
          <li>
            [x] Removed FFMPEG library, was causing unexpected errors with
            differents metatags
          </li>

          <li>[x] Comments, Lyrics and Date tags are not available anymore</li>

          <li>[x] Improvements for Android API &lt;= 19</li>

          <li>[x] Removed unnecesary comments</li>

          <li>[x] Cleanup code</li>

          <li>[x] Fixed javascript side</li>

          <li>[x] Fixed crash in Android KitKat and lower</li>

          <li>[x] MinimumSongDuration parameter is now working</li>

          <li>
            [x] Renamed library from <code>com.reactlibrary</code> to
            <code>com.cinder92.musicfiles</code>
          </li>

          <li>[x] Upgraded gradle to 4.4</li>

          <li>[x] Removed unnecesary logs</li>

          <li>[x] Usable for API &lt;= 19 Android</li>
        </ul>

        <p>PR are welcome!</p>
      </h3>
    </div>

    <nav>
      <h2><a href="index.html">Home</a></h2>
      <h3>Classes</h3>
      <ul>
        <li><a href="RNAndroidAudioStore.html">RNAndroidAudioStore</a></li>
      </ul>
      <h3><a href="global.html">Global</a></h3>
    </nav>

    <br class="clear" />
    <footer>
      Documentation generated by
      <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
    </footer>

    <script>
      prettyPrint();
    </script>
    <script src="scripts/linenumber.js"></script>
  </body>
</html>
